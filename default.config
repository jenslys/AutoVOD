#!/bin/bash
#! Do not edit this file directly, instead create a new file with the name of the streamer you want to record. (e.g: asmongold.config)
set -a

#* Upload provider
#? Options: youtube, s3, reStream
UPLOAD_SERVICE="youtube"

#* Twitch metadata settings:
API_CALLS="false"                                                   #? Enable this to fetch additional metadata from the Twitch API.
API_URL="https://twitch-api-wrapper.vercel.app/info/$STREAMER_NAME" #? Fetching additional stream metadata like the title requires using an API. (https://github.com/jenslys/twitch-api-wrapper)

#? Variables that can be used in VIDEO_TITLE, YOUTUBE_VIDEO_DESCRIPTION and YOUTUBE_VIDEO_PLAYLIST:
STREAMER_TITLE="initial_title" #* The title of the stream. (This is only available if API_CALLS is set to true.) [! Do not change these values]
STREAMER_GAME="inital_game"    #* The current game the user is playing. (This is only available if API_CALLS is set to true.) [! Do not change these values]
#* $STREAMER_NAME - The name of the streamer.
#* $($TIME_DATE) - The current date (day/month/year).
#* $($TIME_CLOCK) - The current time (hour:minute:second).

#* Streamlink settings
STREAMLINK_QUALITY="best"                                                                #* Options: worst, 360p, 480p, 720p, best
STREAMLINK_FLAGS="--twitch-disable-hosting --twitch-disable-ads --twitch-disable-reruns" #? Options to pass to streamlink. (https://streamlink.github.io/cli.html#twitch)
STREAMLINK_LOGS="error"                                                                  #* Options: none, error, warning, info, debug, trace, all

#* Universal Upload settings
VIDEO_TITLE="$STREAMER_NAME"_"$($TIME_DATE)" #? Title of the video / filename.
VIDEO_DURATION="12:00:00"                    #? XX:XX:XX (Notice: YouTube has a upload limit of 12 hours per video).
SPLIT_INTO_PARTS="false"                     #? If you want to split the video into parts, set this to true. (if this is enabled VIDEO_DURATION is ignored).
SPLIT_VIDEO_DURATION="06:00:00"              #? Set the duration of each part. (XX:XX:XX)

#* YouTube upload settings
VIDEO_DESCRIPTION="Uploaded using https://github.com/jenslys/AutoVOD" #? YouTube video description.
VIDEO_VISIBILITY="unlisted"                                           #* Options: unlisted, private, public
VIDEO_PLAYLIST="$STREAMER_NAME VODs"                                  #? Playlist to upload to.

#* S3 upload settings
S3_ENDPOINT_URL="https://s3.auto.amazonaws.com"        #? Endpoint URL of the S3 bucket. (e.g: https://s3.auto.amazonaws.com)
S3_BUCKET="bucket-name"                                #? S3 bucket to upload to.
S3_OBJECT_KEY="vods/""$STREAMER_NAME""/""$VIDEO_TITLE" #? S3 object key to upload to. Dont use spaces in the filename, use dashes or undersores instead.

#* Re-Stream settings
RTMPS_URL="rtmp://a.rtmp.youtube.com/live2/"
RTMPS_STREAM_KEY=""
AUDIO_BITRATE="44100"
AUDIO_CODEC="aac"
FILE_FORMAT="flv"

#* Re-Encoding settings (Currently only works if UPLOAD_SERVICE is set to s3)
#? Re-encodes the stream to a desired codec and quality using ffmpeg. This can be useful if you want to save space on your S3 bucket. (Only recommended if you have a high-end server.)
RE_ENCODE="false"         #? Set this to true if you want to re-encode the video.
RE_ENCODE_CODEC="libx265" #* Options: libx265, libvpx-vp9, libaom-av1 (https://ffmpeg.org/ffmpeg-codecs.html)
RE_ENCODE_CRF="25"        #* Options: 0-51 (lower is better quality, but larger file size) (https://slhck.info/video/2017/02/24/crf-guide.html)
RE_ECODE_PRESET="medium"  #* Options: ultrafast, superfast, veryfast, faster, fast, medium, slow, slower, veryslow (https://trac.ffmpeg.org/wiki/Encode/H.265)
RE_ENCODE_LOG="error"     #* Options: none, error, warning, info, debug, trace, all

set +a
